<!DOCTYPE html>
<html>
  <head id="head">
    <meta charset="UTF-8">
    <meta name="description" content="Zine: Fast, Scalable and Flexible Static Site Generator">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@croloris">
    <meta name="twitter:author" content="@croloris">
    <meta name="twitter:description" content="Zine: Fast, Scalable and Flexible Static Site Generator">
    <meta name="twitter:title" content="Assets | Zine">
    <meta property="og:title" content="Assets">
    <meta property="og:type" content="website">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title id="title">
      Assets
      - Zine
    </title>
    <link rel="stylesheet" type="text/css" href="/style.css">
    <link rel="stylesheet" type="text/css" href="/highlight.css">
    
  </head>
  <body>
    <nav id="menu" class="centered">
      <a href="/">Home</a>
      •
      <a href="/quickstart/">Get Started</a>
      •
      <a href="/documentation/">Docs</a>
      •
      <a href="/community/">Vision & Community</a>
      •
      <a href="/log/">Changelog</a>
      •
      <a href="https://github.com/kristoff-it/zine" target="_blank">
        Code
      </a>
    </nav>
    <div id="content">
      
  <style>
    h1 {
       margin-top: 0;
     }
     h3 {
       margin-bottom: 0;
     }

		#docs h2, #docs h3 {
			text-align: left;
		}

		#docs h3 {
			font-size: 1.5rem;
		}

		#docs h2 {
			font-size: 1.5rem;
			border-bottom: 1px dashed #aaa;
			margin-top: 2em;
		}

		#docs h4 {
			font-size: 1rem;
		}
  </style>
  <h3 class="centered">Zine</h3>
  <h1 >Assets</h1>
  <div id="docs" ><h2>Assets in Zine</h2><p>A Zine site can have 3 kinds of assets: <strong>site</strong>, <strong>page</strong>, and <strong>build</strong> assets.</p><h2>Site Assets</h2><p>These assets are located under <code>assets_dir_path</code>.</p><p>The main way of accessing site assets is by using the following Scripty expression: <code>$site.asset('logo.png')</code>.</p><p>Once you have an instance of an <code>Asset</code>, you can do three main things to it:</p><ul><li><p><code>$site.asset('logo.png').size()</code> to obtain its size in bytes</p></li><li><p><code>$site.asset('logo.png').bytes()</code> to obtain its contents</p></li><li><p><code>$site.asset('logo.png').link()</code> to obtain a link to it</p></li></ul><p>With <code>bytes</code> you can do clever things such as embedding the asset directly into the page itself, like so:</p><p><i><strong>clever-and-cursed.html</strong></i></p><pre><code class="html"><span class="punctuation bracket">&lt;</span><span class="tag">img</span> <span class="attribute">src</span>="<span class="string">$site.asset('foo.png').bytes().base64().prefix('data:image/png;base64,')</span>"<span class="punctuation bracket">&gt;</span>
</code></pre>
<p>While <code>link</code> in comparison seems very boring, it's actually both the preferred way in Zine to reference assets, and also its most clever asset feature.</p><p><strong>Calling <code>link</code> on an asset will cause Zine to install it in the output directory.</strong> Conversely, accessing an asset <i>without</i> calling <code>link</code> on it will <strong>not</strong> cause it to be installed.</p><p>One example of where this makes sense is when you have a Ziggy (or JSON) document that you want to use to build a page, but that is not meant to be included the final output.</p><p><i><strong>songs-list.html</strong></i></p><pre><code class="html"><span class="punctuation bracket">&lt;</span><span class="tag">ul</span> <span class="attribute">loop</span>="<span class="string">$page.asset('songs.json').ziggy()</span>"<span class="punctuation bracket">&gt;</span>
  <span class="punctuation bracket">&lt;</span><span class="tag">li</span> <span class="attribute">var</span>="<span class="string">$loop.it.get!('name')</span>"<span class="punctuation bracket">&gt;</span><span class="punctuation bracket">&lt;/</span><span class="tag">li</span><span class="punctuation bracket">&gt;</span>
<span class="punctuation bracket">&lt;/</span><span class="tag">ul</span><span class="punctuation bracket">&gt;</span>
</code></pre>
<p><strong>Note:</strong> Zine uses <a href="https://ziggy-lang.io">Ziggy</a> as its data serialization format of choice, but JSON documents happen to be a valid subset of Ziggy, so you can use them directly.</p><h3>Static Site Assets</h3><p>Some assets should be installed even if no layout or page refers to them.</p><p>For example <code>favicon.ico</code> might not be referenced, but browsers will automatically try to fetch it.</p><p>Another example could be <code>.well-known</code> assets or files that might have special meaning for the hosting service that you're using. GitHub uses a file named <code>CNAME</code> to keep track of the custom domain configured for a given GitHub Pages website.</p><p>One last example would be font files only referenced inside of CSS files, as Zine currently lacks the ability to inspect CSS files.</p><p>To install assets unconditionally, list them in <code>static_assets</code> in your <code>build.zig</code>:</p><p><i><strong>build.zig</strong></i></p><pre><code class="zig"><span class="attribute">pub</span> <span class="keyword function">fn</span> <span class="function">build</span><span class="punctuation bracket">(</span><span class="parameter">b</span><span class="punctuation delimiter">:</span> <span class="operator">*</span><span class="variable">std</span><span class="punctuation delimiter">.</span><span class="field">Build</span><span class="punctuation bracket">)</span> <span class="exception">!</span><span class="type builtin">void</span> <span class="punctuation bracket">{</span>
    <span class="variable">zine</span><span class="punctuation delimiter">.</span><span class="function">website</span><span class="punctuation bracket">(</span><span class="variable">b</span><span class="punctuation delimiter">,</span> <span class="punctuation delimiter">.</span><span class="punctuation bracket">{</span>
        <span class="punctuation delimiter">.</span><span class="field">title</span> = <span class="string">"Zine - Static Site Generator"</span><span class="punctuation delimiter">,</span>
        <span class="punctuation delimiter">.</span><span class="field">host_url</span> = <span class="string">"https://zine-ssg.io"</span><span class="punctuation delimiter">,</span>
        <span class="punctuation delimiter">.</span><span class="field">layouts_dir_path</span> = <span class="string">"layouts"</span><span class="punctuation delimiter">,</span>
        <span class="punctuation delimiter">.</span><span class="field">content_dir_path</span> = <span class="string">"content"</span><span class="punctuation delimiter">,</span>
        <span class="punctuation delimiter">.</span><span class="field">assets_dir_path</span> = <span class="string">"assets"</span><span class="punctuation delimiter">,</span>
        <span class="punctuation delimiter">.</span><span class="field">static_assets</span> = <span class="operator">&</span><span class="punctuation delimiter">.</span><span class="punctuation bracket">{</span>
            <span class="comment">// Used by GitHub Pages</span>
            <span class="string">"CNAME"</span><span class="punctuation delimiter">,</span>
            <span class="comment">// This asset is referenced in some inlined HTML in Markdown</span>
            <span class="comment">// which Zine is not yet able to analyze so as a temporary</span>
            <span class="comment">// hack we mark it as a static asset.</span>
            <span class="string">"vscode-autoformatting.mp4"</span><span class="punctuation delimiter">,</span>

            <span class="comment">// Font referenced in CSS files</span>
            <span class="string">"BebasNeue-Regular.ttf"</span><span class="punctuation delimiter">,</span>
        <span class="punctuation bracket">}</span><span class="punctuation delimiter">,</span>
    <span class="punctuation bracket">}</span><span class="punctuation bracket">)</span><span class="punctuation delimiter">;</span>
<span class="punctuation bracket">}</span> 
</code></pre>
<h2>Page Assets</h2><p>Page assets are the same as site assets, but are located inside of <code>content_dir_path</code>, next to the page that references them.</p><p>If you have an asset that is specific to only a single page of your website, you can conveniently place it next to it inside the content directory, but beware of respecting the expected content structure.</p><p><i><strong>shell</strong></i></p><pre><code>content
├── blog
│   ├── first-post.md
│   └── index.md
└── index.md
</code></pre><p>In Zine, pages that are not named <code>index.md</code> (i.e. pages that don't define a section) must keep their assets under a directory with the same name.</p><p><i><strong>shell</strong></i></p><pre><code>content
├── blog
│   ├── first-post
│   │   └── C.png
│   ├── first-post.md
│   ├── B.png
│   └── index.md
├── A.png
└── index.md
</code></pre><ul><li><p><code>A.png</code> belongs to <code>content/index.md</code></p></li><li><p><code>B.png</code> belongs to <code>content/blog/index.md</code></p></li><li><p><code>C.png</code> belongs to <code>content/blog/first-post.md</code></p></li></ul><p>Note how <code>C.png</code> lives under <code>content/blog/first-post/</code> because it belongs to a non-section page.</p><p>Accessing a page asset can be done using <code>$page.asset('C.png')</code>. Like all assets, they must be <code>link</code>ed to be installed in the output directory.</p><h4>Note</h4><p>Inside of Markdown files you can use standard syntax <code>![](C.png)</code> and everything will work as expected (Zine will search for the asset in the right directory and will install it in the output directory).</p><p>That said, Markdown processing in Zine has not yet reached its final form so expect news in the near future.</p><h2>Build Assets</h2><p>If you have artifacts built using the Zig build system, you can use them in Zine by setting <code>build_assets</code> in your <code>build.zig</code>.</p><p>Accessing a build asset can be done using <code>$build.asset('foo')</code>. Like all assets, they must be <code>link</code>ed to be installed in the output directory.</p><p>See the doc comments for <code>zine.BuildAsset</code> for more info.</p><h2>Next Steps</h2><p>Make sure to familiarize yourself with the Scripty Reference Documentation in order to know what operations are available for assets and other kinds of data.</p><p><a href="/documentation/scripty/">Read the Scripty Reference Documentation</a></p></div>

    </div>
  </body>
</html>